@model Katalog_v_2.Models.Zakaz

@{
    Layout = "/Views/Shared/_Layout.cshtml";
}

<div layout:fragment="content">
    <section>
        <div class="form-wrap">
            <div class="profile">
                <h1>Заказ</h1>
            </div>
            <h2>Раздел @ViewBag.Procedure.Name</h2>

            <script type="text/javascript">
                function checkForm() {
                    var Name = $('#Name').val();
                    var Product = $('#Product').val();
                    var Soder = $('#Soder').val();

                    var submitButton = $('#submitButton');

                    if (Name == "" || Product == "" || Soder == "") {
                        submitButton.prop('disabled', true);
                    }
                    else {
                        submitButton.prop('disabled', false);
                    }
                }
            </script>

            @Scripts.Render("~/scripts/jquery-3.3.1.min.js")
            @Scripts.Render("~/scripts/jquery.validate.min.js")
            @Scripts.Render("~/scripts/jquery.unobtrusive-ajax.js")

            @using (Html.BeginForm("AddZakaz", "Procedure",
FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.LabelFor(model => model.Name, "Название")
        <br />@Html.EditorFor(model => model.Name, new { htmlAttributes = new { onchange = "checkForm()" } })<br />
        <div style="position:relative;">
            <label>Картинка</label>
            <a class='btn' href='javascript:;'>
                Выберите файл...
                <input type="file" name="imagedata" size="500"
                       style="position:absolute;z-index:2;top:0;
                                left:0;filter: alpha(opacity=0); opacity:0;
                                background-color:transparent;color:transparent;"
                       onchange='$("#upload-file-info").html($(this).val());'>
            </a>
            <span class='label label-info' id="upload-file-info"></span>
        </div>
        @Html.LabelFor(model => model.Product, "Товар")
        <br />@Html.EditorFor(model => model.Product, new { htmlAttributes = new { onchange = "checkForm()" } })<br />
        @Html.LabelFor(model => model.Soder, "Описание")
        <br/>@Html.EditorFor(model => model.Soder, new { htmlAttributes = new { onchange = "checkForm()" } })<br />

        <input type="hidden" name="procId" value="@ViewBag.Procedure.Id">
        <input id="submitButton" type="submit" value="Добавить" disabled />
}
        </div>
    </section>
</div>
